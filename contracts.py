from web3 import Web3, HTTPProvider
from web3.contract import ConciseContract

def findContract():
  abi = [{'constant': False, 'inputs': [{'name': 'newSellPrice', 'type': 'uint256'}, {'name': 'newBuyPrice', 'type': 'uint256'}], 'payable': False, 'stateMutability': 'nonpayable', 'outputs': [], 'name': 'setPrices', 'type': 'function'}, {'constant': True, 'inputs': [], 'payable': False, 'stateMutability': 'view', 'outputs': [{'name': '', 'type': 'string'}], 'name': 'name', 'type': 'function'}, {'constant': False, 'inputs': [{'name': '_spender', 'type': 'address'}, {'name': '_value', 'type': 'uint256'}], 'payable': False, 'stateMutability': 'nonpayable', 'outputs': [{'name': 'success', 'type': 'bool'}], 'name': 'approve', 'type': 'function'}, {'constant': True, 'inputs': [], 'payable': False, 'stateMutability': 'view', 'outputs': [{'name': '', 'type': 'uint256'}], 'name': 'totalSupply', 'type': 'function'}, {'constant': False, 'inputs': [{'name': '_from', 'type': 'address'}, {'name': '_to', 'type': 'address'}, {'name': '_value', 'type': 'uint256'}], 'payable': False, 'stateMutability': 'nonpayable', 'outputs': [{'name': 'success', 'type': 'bool'}], 'name': 'transferFrom', 'type': 'function'}, {'constant': True, 'inputs': [], 'payable': False, 'stateMutability': 'view', 'outputs': [{'name': '', 'type': 'uint8'}], 'name': 'decimals', 'type': 'function'}, {'constant': False, 'inputs': [{'name': '_value', 'type': 'uint256'}], 'payable': False, 'stateMutability': 'nonpayable', 'outputs': [{'name': 'success', 'type': 'bool'}], 'name': 'burn', 'type': 'function'}, {'constant': True, 'inputs': [], 'payable': False, 'stateMutability': 'view', 'outputs': [{'name': '', 'type': 'uint256'}], 'name': 'sellPrice', 'type': 'function'}, {'constant': True, 'inputs': [{'name': '', 'type': 'address'}], 'payable': False, 'stateMutability': 'view', 'outputs': [{'name': '', 'type': 'uint256'}], 'name': 'balanceOf', 'type': 'function'}, {'constant': False, 'inputs': [{'name': 'target', 'type': 'address'}, {'name': 'mintedAmount', 'type': 'uint256'}], 'payable': False, 'stateMutability': 'nonpayable', 'outputs': [], 'name': 'mintToken', 'type': 'function'}, {'constant': False, 'inputs': [{'name': '_from', 'type': 'address'}, {'name': '_value', 'type': 'uint256'}], 'payable': False, 'stateMutability': 'nonpayable', 'outputs': [{'name': 'success', 'type': 'bool'}], 'name': 'burnFrom', 'type': 'function'}, {'constant': True, 'inputs': [], 'payable': False, 'stateMutability': 'view', 'outputs': [{'name': '', 'type': 'uint256'}], 'name': 'buyPrice', 'type': 'function'}, {'constant': True, 'inputs': [], 'payable': False, 'stateMutability': 'view', 'outputs': [{'name': '', 'type': 'address'}], 'name': 'owner', 'type': 'function'}, {'constant': True, 'inputs': [], 'payable': False, 'stateMutability': 'view', 'outputs': [{'name': '', 'type': 'string'}], 'name': 'symbol', 'type': 'function'}, {'constant': False, 'inputs': [], 'payable': True, 'stateMutability': 'payable', 'outputs': [], 'name': 'buy', 'type': 'function'}, {'constant': False, 'inputs': [{'name': '_to', 'type': 'address'}, {'name': '_value', 'type': 'uint256'}], 'payable': False, 'stateMutability': 'nonpayable', 'outputs': [], 'name': 'transfer', 'type': 'function'}, {'constant': True, 'inputs': [{'name': '', 'type': 'address'}], 'payable': False, 'stateMutability': 'view', 'outputs': [{'name': '', 'type': 'bool'}], 'name': 'frozenAccount', 'type': 'function'}, {'constant': False, 'inputs': [{'name': '_spender', 'type': 'address'}, {'name': '_value', 'type': 'uint256'}, {'name': '_extraData', 'type': 'bytes'}], 'payable': False, 'stateMutability': 'nonpayable', 'outputs': [{'name': 'success', 'type': 'bool'}], 'name': 'approveAndCall', 'type': 'function'}, {'constant': True, 'inputs': [{'name': '', 'type': 'address'}, {'name': '', 'type': 'address'}], 'payable': False, 'stateMutability': 'view', 'outputs': [{'name': '', 'type': 'uint256'}], 'name': 'allowance', 'type': 'function'}, {'constant': False, 'inputs': [{'name': 'amount', 'type': 'uint256'}], 'payable': False, 'stateMutability': 'nonpayable', 'outputs': [], 'name': 'sell', 'type': 'function'}, {'constant': False, 'inputs': [{'name': 'target', 'type': 'address'}, {'name': 'freeze', 'type': 'bool'}], 'payable': False, 'stateMutability': 'nonpayable', 'outputs': [], 'name': 'freezeAccount', 'type': 'function'}, {'constant': False, 'inputs': [{'name': 'newOwner', 'type': 'address'}], 'payable': False, 'stateMutability': 'nonpayable', 'outputs': [], 'name': 'transferOwnership', 'type': 'function'}, {'inputs': [{'name': 'initialSupply', 'type': 'uint256'}, {'name': 'tokenName', 'type': 'string'}, {'name': 'tokenSymbol', 'type': 'string'}], 'payable': False, 'type': 'constructor', 'stateMutability': 'nonpayable'}, {'anonymous': False, 'inputs': [{'indexed': False, 'name': 'target', 'type': 'address'}, {'indexed': False, 'name': 'frozen', 'type': 'bool'}], 'name': 'FrozenFunds', 'type': 'event'}, {'anonymous': False, 'inputs': [{'indexed': True, 'name': 'from', 'type': 'address'}, {'indexed': True, 'name': 'to', 'type': 'address'}, {'indexed': False, 'name': 'value', 'type': 'uint256'}], 'name': 'Transfer', 'type': 'event'}, {'anonymous': False, 'inputs': [{'indexed': True, 'name': 'from', 'type': 'address'}, {'indexed': False, 'name': 'value', 'type': 'uint256'}], 'name': 'Burn', 'type': 'event'}]
  address = 0x532032e9587F4a4760F0d84FA615cf2DFB65f316
  contract_instance = w3.eth.contract(abi, address, ContractFactoryClass=ConciseContract)
  return contract_instance

w3 = Web3(HTTPProvider("http://10.11.245.19:8545"))
contract = findContract()
contract.transfer(w3.eth.accounts[1], 100, transact={'from':w3.eth.accounts[0]})
print(contract.balanceOf[w3.eth.accounts[1]])
